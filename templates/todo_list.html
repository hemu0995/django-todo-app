{% extends "base.html" %}

{% block content %}
<h2>Your Todo List</h2>

<form method="post">
    {% csrf_token %}
    <input type="text" name="title" placeholder="Add a new todo..." required>
    <button type="submit">Add</button>
</form>

<ul>
    {% for todo in todos %}
    <li class="{% if todo.completed %}completed{% endif %}">
        {{ todo.title }}
        <div class="actions">
            <form action="{% url 'complete_todo' todo.id %}" method="post" style="display: inline;">
                {% csrf_token %}
                <button type="submit">{% if todo.completed %}Undo{% else %}Complete{% endif %}</button>
            </form>
            <form action="{% url 'delete_todo' todo.id %}" method="post" style="display: inline;">
                {% csrf_token %}
                <button type="submit" class="delete">Delete</button>
            </form>
        </div>
    </li>
    {% empty %}
    <li>No todos yet. Add one above!</li>
    {% endfor %}
</ul>
{% endblock %}
